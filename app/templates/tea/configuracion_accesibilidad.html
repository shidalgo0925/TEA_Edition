<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öôÔ∏è Configuraci√≥n - TEA Edition</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/interactive_styles.css') }}">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #FFE5B4 0%, #FFD700 50%, #FFA500 100%);
            min-height: 100vh;
            color: #2C3E50;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Navegaci√≥n persistente */
        .nav-persistente {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-top: 3px solid #FFD700;
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #2C3E50;
            padding: 10px;
            border-radius: 15px;
            transition: all 0.3s ease;
            min-width: 80px;
        }
        
        .nav-item:hover, .nav-item:focus {
            background: #FFD700;
            transform: translateY(-3px);
            outline: 3px solid #FFA500;
        }
        
        .nav-item.active {
            background: #FFA500;
            color: white;
        }
        
        .nav-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .nav-text {
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Contenido principal */
        .main-content {
            padding-bottom: 100px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        .back-button:hover, .back-button:focus {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
            outline: 3px solid #FFD700;
        }
        
        .config-title {
            font-size: 2.5rem;
            color: #E74C3C;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .config-subtitle {
            font-size: 1.2rem;
            color: #7F8C8D;
            margin-bottom: 20px;
        }
        
        /* Secciones de configuraci√≥n */
        .config-section {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #2C3E50;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .config-item {
            background: #F8F9FA;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #3498DB;
            transition: all 0.3s ease;
        }
        
        .config-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .config-label {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .config-description {
            font-size: 0.9rem;
            color: #7F8C8D;
            margin-bottom: 15px;
        }
        
        /* Controles */
        .control-group {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #27AE60;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .slider:hover {
            box-shadow: 0 0 10px rgba(39, 174, 96, 0.3);
        }
        
        .range-slider {
            width: 200px;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        
        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498DB;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498DB;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .range-value {
            font-weight: bold;
            color: #3498DB;
            min-width: 40px;
            text-align: center;
        }
        
        .select-control {
            padding: 10px 15px;
            border: 2px solid #3498DB;
            border-radius: 10px;
            background: white;
            font-size: 1rem;
            color: #2C3E50;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .select-control:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        /* Botones de acci√≥n */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .btn-config {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #27AE60 0%, #2ECC71 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #95A5A6 0%, #7F8C8D 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
        }
        
        .btn-config:hover, .btn-config:focus {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            outline: 3px solid #FFD700;
        }
        
        /* Modo alto contraste */
        .high-contrast {
            background: #000 !important;
            color: #FFF !important;
        }
        
        .high-contrast .config-section,
        .high-contrast .header {
            background: #333 !important;
            color: #FFF !important;
        }
        
        .high-contrast .config-item {
            background: #444 !important;
            color: #FFF !important;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .config-title {
                font-size: 2rem;
            }
            
            .config-grid {
                grid-template-columns: 1fr;
            }
            
            .control-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .range-slider {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <a href="/tea/nino/" class="back-button" aria-label="Volver al dashboard">
                    ‚Üê Volver
                </a>
                
                <h1 class="config-title">
                    ‚öôÔ∏è Configuraci√≥n
                </h1>
                <p class="config-subtitle">
                    Personaliza tu experiencia de aprendizaje
                </p>
            </div>

            <!-- Configuraci√≥n de Voz -->
            <div class="config-section">
                <h2 class="section-title">üé§ Configuraci√≥n de Voz</h2>
                <div class="config-grid">
                    <div class="config-item">
                        <div class="config-label">
                            üîä Voz del Avatar
                        </div>
                        <div class="config-description">
                            Activar o desactivar la voz del avatar virtual
                        </div>
                        <div class="control-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="avatarVoiceToggle" checked>
                                <span class="slider"></span>
                            </label>
                            <span id="voiceStatus">Activada</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üì¢ Volumen
                        </div>
                        <div class="config-description">
                            Ajustar el volumen de la voz del avatar
                        </div>
                        <div class="control-group">
                            <input type="range" class="range-slider" id="volumeSlider" 
                                   min="0" max="100" value="80">
                            <span class="range-value" id="volumeValue">80%</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üèÉ Velocidad
                        </div>
                        <div class="config-description">
                            Velocidad de habla del avatar
                        </div>
                        <div class="control-group">
                            <input type="range" class="range-slider" id="rateSlider" 
                                   min="0.5" max="2" step="0.1" value="0.8">
                            <span class="range-value" id="rateValue">0.8x</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üéµ Tono
                        </div>
                        <div class="config-description">
                            Tono de voz del avatar
                        </div>
                        <div class="control-group">
                            <input type="range" class="range-slider" id="pitchSlider" 
                                   min="0.5" max="2" step="0.1" value="1.0">
                            <span class="range-value" id="pitchValue">1.0</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üó£Ô∏è Voz
                        </div>
                        <div class="config-description">
                            Seleccionar la voz del avatar
                        </div>
                        <div class="control-group">
                            <select class="select-control" id="voiceSelect">
                                <option value="auto">Autom√°tica</option>
                                <option value="female">Femenina</option>
                                <option value="male">Masculina</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n Visual -->
            <div class="config-section">
                <h2 class="section-title">üëÅÔ∏è Configuraci√≥n Visual</h2>
                <div class="config-grid">
                    <div class="config-item">
                        <div class="config-label">
                            üîç Alto Contraste
                        </div>
                        <div class="config-description">
                            Activar modo de alto contraste para mejor visibilidad
                        </div>
                        <div class="control-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="highContrastToggle">
                                <span class="slider"></span>
                            </label>
                            <span id="contrastStatus">Desactivado</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üìè Tama√±o de Texto
                        </div>
                        <div class="config-description">
                            Ajustar el tama√±o del texto
                        </div>
                        <div class="control-group">
                            <input type="range" class="range-slider" id="textSizeSlider" 
                                   min="0.8" max="1.5" step="0.1" value="1.0">
                            <span class="range-value" id="textSizeValue">100%</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üé® Tema de Color
                        </div>
                        <div class="config-description">
                            Seleccionar el tema de colores
                        </div>
                        <div class="control-group">
                            <select class="select-control" id="colorThemeSelect">
                                <option value="default">Por defecto</option>
                                <option value="blue">Azul</option>
                                <option value="green">Verde</option>
                                <option value="purple">Morado</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n de Accesibilidad -->
            <div class="config-section">
                <h2 class="section-title">‚ôø Accesibilidad</h2>
                <div class="config-grid">
                    <div class="config-item">
                        <div class="config-label">
                            ‚å®Ô∏è Navegaci√≥n por Teclado
                        </div>
                        <div class="config-description">
                            Resaltar elementos navegables con teclado
                        </div>
                        <div class="control-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="keyboardNavToggle" checked>
                                <span class="slider"></span>
                            </label>
                            <span id="keyboardStatus">Activado</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            üîä Sonidos de Interfaz
                        </div>
                        <div class="config-description">
                            Activar sonidos para acciones de la interfaz
                        </div>
                        <div class="control-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="interfaceSoundsToggle" checked>
                                <span class="slider"></span>
                            </label>
                            <span id="soundsStatus">Activados</span>
                        </div>
                    </div>
                    
                    <div class="config-item">
                        <div class="config-label">
                            ‚è±Ô∏è Tiempo de Sesi√≥n
                        </div>
                        <div class="config-description">
                            Duraci√≥n m√°xima de una sesi√≥n de aprendizaje
                        </div>
                        <div class="control-group">
                            <input type="range" class="range-slider" id="sessionTimeSlider" 
                                   min="5" max="60" step="5" value="15">
                            <span class="range-value" id="sessionTimeValue">15 min</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botones de Acci√≥n -->
            <div class="action-buttons">
                <button class="btn-config btn-primary" onclick="saveConfiguration()">
                    üíæ Guardar Configuraci√≥n
                </button>
                <button class="btn-config btn-secondary" onclick="resetConfiguration()">
                    üîÑ Restaurar Valores
                </button>
                <button class="btn-config btn-secondary" onclick="testConfiguration()">
                    üß™ Probar Configuraci√≥n
                </button>
            </div>
        </div>
    </div>

    <!-- Navegaci√≥n persistente -->
    <nav class="nav-persistente" role="navigation" aria-label="Navegaci√≥n principal">
        <a href="/tea/nino/" class="nav-item" aria-label="Inicio del ni√±o">
            <span class="nav-icon">üè†</span>
            <span class="nav-text">Inicio</span>
        </a>
        <a href="/tea/actividades/" class="nav-item" aria-label="Actividades disponibles">
            <span class="nav-icon">üéØ</span>
            <span class="nav-text">Actividades</span>
        </a>
        <a href="/tea/voice-config/" class="nav-item active" aria-label="Configuraci√≥n de voz">
            <span class="nav-icon">üé§</span>
            <span class="nav-text">Voz</span>
        </a>
        <a href="/tea/padres/" class="nav-item" aria-label="Vista de padres">
            <span class="nav-icon">üë®‚Äçüë©‚Äçüëß</span>
            <span class="nav-text">Padres</span>
        </a>
    </nav>

    <script src="{{ url_for('static', filename='js/avatar_voice_system.js') }}"></script>
    
    <script>
        // Variables globales
        let currentConfig = {};
        
        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            loadConfiguration();
            setupEventListeners();
            initializeAvatar();
        });
        
        // Cargar configuraci√≥n guardada
        function loadConfiguration() {
            try {
                const config = JSON.parse(localStorage.getItem('tea_configuration') || '{}');
                currentConfig = {
                    avatarVoice: config.avatarVoice !== false,
                    volume: config.volume || 80,
                    rate: config.rate || 0.8,
                    pitch: config.pitch || 1.0,
                    voiceType: config.voiceType || 'auto',
                    highContrast: config.highContrast || false,
                    textSize: config.textSize || 1.0,
                    colorTheme: config.colorTheme || 'default',
                    keyboardNav: config.keyboardNav !== false,
                    interfaceSounds: config.interfaceSounds !== false,
                    sessionTime: config.sessionTime || 15
                };
                
                applyConfiguration();
            } catch (error) {
                console.error('Error cargando configuraci√≥n:', error);
                resetToDefaults();
            }
        }
        
        // Aplicar configuraci√≥n a la interfaz
        function applyConfiguration() {
            // Voz del avatar
            document.getElementById('avatarVoiceToggle').checked = currentConfig.avatarVoice;
            document.getElementById('voiceStatus').textContent = currentConfig.avatarVoice ? 'Activada' : 'Desactivada';
            
            // Volumen
            document.getElementById('volumeSlider').value = currentConfig.volume;
            document.getElementById('volumeValue').textContent = currentConfig.volume + '%';
            
            // Velocidad
            document.getElementById('rateSlider').value = currentConfig.rate;
            document.getElementById('rateValue').textContent = currentConfig.rate + 'x';
            
            // Tono
            document.getElementById('pitchSlider').value = currentConfig.pitch;
            document.getElementById('pitchValue').textContent = currentConfig.pitch;
            
            // Tipo de voz
            document.getElementById('voiceSelect').value = currentConfig.voiceType;
            
            // Alto contraste
            document.getElementById('highContrastToggle').checked = currentConfig.highContrast;
            document.getElementById('contrastStatus').textContent = currentConfig.highContrast ? 'Activado' : 'Desactivado';
            if (currentConfig.highContrast) {
                document.body.classList.add('high-contrast');
            }
            
            // Tama√±o de texto
            document.getElementById('textSizeSlider').value = currentConfig.textSize;
            document.getElementById('textSizeValue').textContent = Math.round(currentConfig.textSize * 100) + '%';
            document.body.style.fontSize = currentConfig.textSize + 'em';
            
            // Tema de color
            document.getElementById('colorThemeSelect').value = currentConfig.colorTheme;
            applyColorTheme(currentConfig.colorTheme);
            
            // Navegaci√≥n por teclado
            document.getElementById('keyboardNavToggle').checked = currentConfig.keyboardNav;
            document.getElementById('keyboardStatus').textContent = currentConfig.keyboardNav ? 'Activado' : 'Desactivado';
            
            // Sonidos de interfaz
            document.getElementById('interfaceSoundsToggle').checked = currentConfig.interfaceSounds;
            document.getElementById('soundsStatus').textContent = currentConfig.interfaceSounds ? 'Activados' : 'Desactivados';
            
            // Tiempo de sesi√≥n
            document.getElementById('sessionTimeSlider').value = currentConfig.sessionTime;
            document.getElementById('sessionTimeValue').textContent = currentConfig.sessionTime + ' min';
        }
        
        // Configurar event listeners
        function setupEventListeners() {
            // Voz del avatar
            document.getElementById('avatarVoiceToggle').addEventListener('change', function() {
                currentConfig.avatarVoice = this.checked;
                document.getElementById('voiceStatus').textContent = this.checked ? 'Activada' : 'Desactivada';
                if (typeof setAvatarVoiceEnabled === 'function') {
                    setAvatarVoiceEnabled(this.checked);
                }
            });
            
            // Volumen
            document.getElementById('volumeSlider').addEventListener('input', function() {
                currentConfig.volume = this.value;
                document.getElementById('volumeValue').textContent = this.value + '%';
                if (typeof setAvatarVoiceVolume === 'function') {
                    setAvatarVoiceVolume(this.value / 100);
                }
            });
            
            // Velocidad
            document.getElementById('rateSlider').addEventListener('input', function() {
                currentConfig.rate = parseFloat(this.value);
                document.getElementById('rateValue').textContent = this.value + 'x';
                if (typeof setAvatarVoiceRate === 'function') {
                    setAvatarVoiceRate(this.value);
                }
            });
            
            // Tono
            document.getElementById('pitchSlider').addEventListener('input', function() {
                currentConfig.pitch = parseFloat(this.value);
                document.getElementById('pitchValue').textContent = this.value;
            });
            
            // Tipo de voz
            document.getElementById('voiceSelect').addEventListener('change', function() {
                currentConfig.voiceType = this.value;
            });
            
            // Alto contraste
            document.getElementById('highContrastToggle').addEventListener('change', function() {
                currentConfig.highContrast = this.checked;
                document.getElementById('contrastStatus').textContent = this.checked ? 'Activado' : 'Desactivado';
                document.body.classList.toggle('high-contrast', this.checked);
            });
            
            // Tama√±o de texto
            document.getElementById('textSizeSlider').addEventListener('input', function() {
                currentConfig.textSize = parseFloat(this.value);
                document.getElementById('textSizeValue').textContent = Math.round(this.value * 100) + '%';
                document.body.style.fontSize = this.value + 'em';
            });
            
            // Tema de color
            document.getElementById('colorThemeSelect').addEventListener('change', function() {
                currentConfig.colorTheme = this.value;
                applyColorTheme(this.value);
            });
            
            // Navegaci√≥n por teclado
            document.getElementById('keyboardNavToggle').addEventListener('change', function() {
                currentConfig.keyboardNav = this.checked;
                document.getElementById('keyboardStatus').textContent = this.checked ? 'Activado' : 'Desactivado';
            });
            
            // Sonidos de interfaz
            document.getElementById('interfaceSoundsToggle').addEventListener('change', function() {
                currentConfig.interfaceSounds = this.checked;
                document.getElementById('soundsStatus').textContent = this.checked ? 'Activados' : 'Desactivados';
            });
            
            // Tiempo de sesi√≥n
            document.getElementById('sessionTimeSlider').addEventListener('input', function() {
                currentConfig.sessionTime = parseInt(this.value);
                document.getElementById('sessionTimeValue').textContent = this.value + ' min';
            });
        }
        
        // Aplicar tema de color
        function applyColorTheme(theme) {
            const root = document.documentElement;
            
            // Remover temas anteriores
            root.classList.remove('theme-blue', 'theme-green', 'theme-purple');
            
            if (theme !== 'default') {
                root.classList.add('theme-' + theme);
            }
        }
        
        // Guardar configuraci√≥n
        function saveConfiguration() {
            try {
                localStorage.setItem('tea_configuration', JSON.stringify(currentConfig));
                
                // Aplicar configuraci√≥n al sistema de voz
                if (typeof avatarVoiceSystem !== 'undefined' && avatarVoiceSystem) {
                    avatarVoiceSystem.setEnabled(currentConfig.avatarVoice);
                    avatarVoiceSystem.setVolume(currentConfig.volume / 100);
                    avatarVoiceSystem.setRate(currentConfig.rate);
                    avatarVoiceSystem.setPitch(currentConfig.pitch);
                }
                
                // Mostrar confirmaci√≥n
                if (typeof speakAvatarText === 'function') {
                    speakAvatarText('¬°Configuraci√≥n guardada exitosamente!', 'excited');
                }
                
                // Animaci√≥n de confirmaci√≥n
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ Guardado!';
                button.style.background = '#27AE60';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
                
            } catch (error) {
                console.error('Error guardando configuraci√≥n:', error);
                if (typeof speakAvatarText === 'function') {
                    speakAvatarText('Error al guardar la configuraci√≥n', 'normal');
                }
            }
        }
        
        // Restaurar configuraci√≥n por defecto
        function resetConfiguration() {
            if (confirm('¬øEst√°s seguro de que quieres restaurar la configuraci√≥n por defecto?')) {
                resetToDefaults();
                applyConfiguration();
                
                if (typeof speakAvatarText === 'function') {
                    speakAvatarText('Configuraci√≥n restaurada a valores por defecto', 'normal');
                }
            }
        }
        
        // Restaurar valores por defecto
        function resetToDefaults() {
            currentConfig = {
                avatarVoice: true,
                volume: 80,
                rate: 0.8,
                pitch: 1.0,
                voiceType: 'auto',
                highContrast: false,
                textSize: 1.0,
                colorTheme: 'default',
                keyboardNav: true,
                interfaceSounds: true,
                sessionTime: 15
            };
        }
        
        // Probar configuraci√≥n
        function testConfiguration() {
            if (typeof speakAvatarText === 'function') {
                speakAvatarText('Esta es una prueba de la configuraci√≥n de voz. ¬øSe escucha bien?', 'excited');
            }
        }
        
        // Inicializar avatar
        function initializeAvatar() {
            setTimeout(() => {
                if (typeof speakAvatarText === 'function') {
                    speakAvatarText('¬°Bienvenido a la configuraci√≥n! Aqu√≠ puedes personalizar tu experiencia de aprendizaje.', 'excited');
                }
            }, 1000);
        }
    </script>
    
    <style>
        /* Temas de color */
        .theme-blue {
            --primary-color: #3498DB;
            --secondary-color: #2980B9;
        }
        
        .theme-green {
            --primary-color: #27AE60;
            --secondary-color: #2ECC71;
        }
        
        .theme-purple {
            --primary-color: #9B59B6;
            --secondary-color: #8E44AD;
        }
        
        .theme-blue .config-item {
            border-left-color: #3498DB;
        }
        
        .theme-green .config-item {
            border-left-color: #27AE60;
        }
        
        .theme-purple .config-item {
            border-left-color: #9B59B6;
        }
    </style>
</body>
</html>




